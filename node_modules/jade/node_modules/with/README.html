<h1>with</h1><p>Compile time <code>with</code> for strict mode JavaScript</p>
<p><a href="http://travis-ci.org/ForbesLindesay/with"><img src="https://secure.travis-ci.org/ForbesLindesay/with.png" alt="build status"></a>
<a href="https://gemnasium.com/ForbesLindesay/with"><img src="https://img.shields.io/gemnasium/ForbesLindesay/with.svg" alt="Dependency Status"></a>
<a href="http://badge.fury.io/js/with"><img src="https://img.shields.io/npm/v/with.svg" alt="NPM version"></a></p>
<h2>Installation</h2><pre><code>$ npm install with
</code></pre><h2>Usage</h2><pre><code class="language-js">var addWith = require(&#39;with&#39;)

addWith(&#39;obj&#39;, &#39;console.log(a)&#39;)
// =&gt; &#39;;(function (console, a) {
//       console.log(a)
//     }(&quot;console&quot; in obj ? obj.console :
//                          typeof console!==&quot;undefined&quot; ? console : undefined,
//       &quot;a&quot; in obj ? obj.a :
//                    typeof a !== &quot;undefined&quot; ? a : undefined));&#39;

addWith(&#39;obj&#39;, &#39;console.log(a)&#39;, [&#39;console&#39;])
// =&gt; &#39;;(function (console, a) {
//       console.log(a)
//     }(&quot;a&quot; in obj ? obj.a :
//                    typeof a !== &quot;undefined&quot; ? a : undefined));&#39;
</code></pre>
<h2>API</h2><h3>addWith(obj, src[, exclude])</h3><p>The idea is that this is roughly equivallent to:</p>
<pre><code class="language-js">with (obj) {
  src
}
</code></pre>
<p>There are a few differences though.  For starters, assignments to variables will always remain contained within the with block.</p>
<p>e.g.</p>
<pre><code class="language-js">var foo = &#39;foo&#39;
with ({}) {
  foo = &#39;bar&#39;
}
assert(foo === &#39;bar&#39;)// =&gt; This fails for compile time with but passes for native with

var obj = {foo: &#39;foo&#39;}
with ({}) {
  foo = &#39;bar&#39;
}
assert(obj.foo === &#39;bar&#39;)// =&gt; This fails for compile time with but passes for native with
</code></pre>
<p>It also makes everything be declared, so you can always do:</p>
<pre><code class="language-js">if (foo === undefined)
</code></pre>
<p>instead of</p>
<pre><code class="language-js">if (typeof foo === &#39;undefined&#39;)
</code></pre>
<p>This is not the case if foo is in <code>exclude</code>.  If a variable is excluded, we ignore it entirely.  This is useful if you know a variable will be global as it can lead to efficiency improvements.</p>
<p>It is also safe to use in strict mode (unlike <code>with</code>) and it minifies properly (<code>with</code> disables virtually all minification).</p>
<h2>License</h2><p>  MIT</p>
